<ion-card>
  <ion-card-header>
    <ion-card-title>Activity Trends Over Time</ion-card-title>
    <ion-segment [(ngModel)]="selectedTab" (ionChange)="onTabChange($event)">
      <ion-segment-button value="daily">Daily</ion-segment-button>
      <ion-segment-button value="monthly">Monthly</ion-segment-button>
      <ion-segment-button value="custom">Custom</ion-segment-button>
    </ion-segment>

    <div *ngIf="selectedTab === 'custom'">
      <ion-datetime *ngIf="isSelectingDateRange" [presentation]="'date'" [(ngModel)]="startDate" display-format="YYYY-MM-DD"></ion-datetime>
      <ion-datetime *ngIf="isSelectingDateRange" [presentation]="'date'" [(ngModel)]="endDate" display-format="YYYY-MM-DD"></ion-datetime>
      <ion-button *ngIf="isSelectingDateRange" fill="outline" expand="block" (click)="loadChartData('custom')">Save</ion-button>
      <ion-button *ngIf="!isSelectingDateRange" fill="outline" expand="block" (click)="isSelectingDateRange = !isSelectingDateRange"
        >Select Custom Date</ion-button
      >
    </div>
  </ion-card-header>

  <ion-card-content>
    <apx-chart
      *ngIf="!isSelectingDateRange"
      [series]="chartSeries"
      [chart]="chartDetails"
      [colors]="chartColors"
      [xaxis]="chartXAxis"
      [plotOptions]="chartPlotOptions"
      [dataLabels]="chartDataLabels"
      [fill]="chartFill"
    >
    </apx-chart>
  </ion-card-content>
</ion-card>
